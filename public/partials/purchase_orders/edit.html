<div class="container-fluid">
	<h3 class="cls-title">{{title}}</h3>

	<form class="row">
		<div class="col-sm-6">
			<div class="form-group">
				<label>Proveedor:</label>
				
				<ui-select ng-model="data.vendor">
				    <ui-select-match placeholder="Seleccione un Proveedor">
				        <span ng-bind="$select.selected.name"></span>
				    </ui-select-match>
				    <ui-select-choices repeat="item in (vendorsList | filter: $select.search) track by item.id">
				        <span ng-bind="item.name"></span>
				        <div class="cls-small"><i>{{ item.rfc }}</i></div>
				    </ui-select-choices>
				</ui-select>

			</div>
			<div class="form-group">
				<label>Fecha:</label>
				<input type="text" class="form-control" name="order_date" ng-model="data.order_date" autocomplete="off">
			</div>
		</div>

		<div class="col-sm-6">
			<div class="form-group">
				<label>Comentarios:</label>
				<textarea class="form-control" rows="4" ng-model="data.comments"></textarea>
			</div>
		</div>
	</form>

	<h5 class="cls-title">Productos</h5>

	<form class="form-inline cls-form-detail">
		<div class="form-group">
			<input type="text" class="form-control" ng-model="product.code" ng-keypress="searchCode($event);" placeholder="Código" maxlength="20" style="width:100px">
		</div>
		<div class="form-group">
			<input type="text" class="form-control" ng-model="product.description" placeholder="Descripción" style="width:250px">
		</div>
		<div class="form-group">
			<input type="number" class="form-control" ng-model="product.quantity" ng-keypress="getTotalProduct(); setFocus($event, 'price')" placeholder="Cantidad" style="width:85px">
		</div>
		<div class="form-group">
			<input type="number" class="form-control" ng-model="product.price" ng-keypress="getTotalProduct(); setFocus($event, 'add')" placeholder="Precio" style="width:85px">
		</div>
		<button class="btn btn-success btn-xs" id="btnAddProduct" ng-click="addProduct()">
			<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
		</button>
		<button class="btn btn-info btn-xs" id="btnOpenSearch" ng-click="openSearch()">
			<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
		</button>
	</form>

	<table class="table table-condensed table-bordered cls-table">
		<thead>
			<tr>
				<th>Producto</th>
				<th>Precio</th>
				<th>Cantidad</th>
				<th>Total</th>
			</tr>
		</thead>
		<tbody>
			<tr data-ng-repeat="(key, detail) in data.purchase_order_details">
				<td>
					<div>{{ detail.product.code }}</div>
					<div class="cls-small">{{ detail.product.description }}</div>
				</td>
				<td>{{ detail.price }}</td>
				<td>{{ detail.quantity }}</td>
				<td>{{ detail.total }}</td>
			</tr>
		</tbody>
	</table>

	<div class="row cls-toolbar-gray">
		<div class="col-sm-12">
			<button class="btn btn-primary" ng-click="save()">Guardar</button>
			<a class="btn btn-warning" href="#/purchase-orders">Cerrar</a>
		</div>
	</div>
</div>